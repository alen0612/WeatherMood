{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\weathermood\\\\client\\\\src\\\\Components\\\\SignIn.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useContext } from \"react\";\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\nimport * as Yup from \"yup\";\nimport axios from \"axios\";\nimport { AuthContext } from \"../helpers/AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction SignIn(props) {\n  _s();\n\n  const {\n    setAuthState\n  } = useContext(AuthContext);\n\n  const handleLeaveClick = () => {\n    props.setOpenSignIn(false);\n    props.setOpenSignUp(false);\n  };\n\n  const initialValue = {\n    username: \"\",\n    password: \"\"\n  };\n  const validationSchema = Yup.object().shape({\n    username: Yup.string().min(3).max(15).required(),\n    password: Yup.string().min(3).max(15).required()\n  });\n\n  const onSubmit = data => {\n    axios.post(\"http://localhost:3001/users/signin\", data).then(response => {\n      if (response.data.error) {\n        alert(response.data.error);\n      } else {\n        localStorage.setItem(\"accessToken\", response.data[1]);\n        setAuthState(true);\n        props.setCurrentUser(response.data[0]);\n        handleLeaveClick();\n      }\n    }).catch(err => {\n      alert(\"Wrong Username or Password!\");\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Sign\",\n    children: /*#__PURE__*/_jsxDEV(Formik, {\n      initialValues: initialValue,\n      onSubmit: onSubmit,\n      validationSchema: validationSchema,\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        className: \"SignArea\",\n        children: [/*#__PURE__*/_jsxDEV(ErrorMessage, {\n          name: \"username\",\n          component: \"span\",\n          className: \"SignErrorMessage\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Field, {\n          className: \"SignUsername\",\n          name: \"username\",\n          placeholder: \"Username...\",\n          autoComplete: \"off\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n          name: \"password\",\n          component: \"span\",\n          className: \"SignErrorMessage\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Field, {\n          className: \"SignPassword\",\n          name: \"password\",\n          placeholder: \"Password...\",\n          autoComplete: \"off\",\n          type: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"SignButtons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Sign In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              handleLeaveClick();\n            },\n            children: \"Exit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SignIn, \"+sS5vMA4/12a1lkWt2zhDcb4w7I=\");\n\n_c = SignIn;\nexport default SignIn;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignIn\");","map":{"version":3,"sources":["C:/Users/User/Desktop/weathermood/client/src/Components/SignIn.js"],"names":["React","useContext","Formik","Form","Field","ErrorMessage","Yup","axios","AuthContext","SignIn","props","setAuthState","handleLeaveClick","setOpenSignIn","setOpenSignUp","initialValue","username","password","validationSchema","object","shape","string","min","max","required","onSubmit","data","post","then","response","error","alert","localStorage","setItem","setCurrentUser","catch","err"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { useContext } from \"react\";\r\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport axios from \"axios\";\r\nimport { AuthContext } from \"../helpers/AuthContext\";\r\n\r\nfunction SignIn(props) {\r\n  const { setAuthState } = useContext(AuthContext);\r\n\r\n  const handleLeaveClick = () => {\r\n    props.setOpenSignIn(false);\r\n    props.setOpenSignUp(false);\r\n  };\r\n\r\n  const initialValue = {\r\n    username: \"\",\r\n    password: \"\",\r\n  };\r\n\r\n  const validationSchema = Yup.object().shape({\r\n    username: Yup.string().min(3).max(15).required(),\r\n    password: Yup.string().min(3).max(15).required(),\r\n  });\r\n\r\n  const onSubmit = (data) => {\r\n    axios\r\n      .post(\"http://localhost:3001/users/signin\", data)\r\n      .then((response) => {\r\n        if (response.data.error) {\r\n          alert(response.data.error);\r\n        } else {\r\n          localStorage.setItem(\"accessToken\", response.data[1]);\r\n          setAuthState(true);\r\n          props.setCurrentUser(response.data[0]);\r\n          handleLeaveClick();\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        alert(\"Wrong Username or Password!\");\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"Sign\">\r\n      <Formik\r\n        initialValues={initialValue}\r\n        onSubmit={onSubmit}\r\n        validationSchema={validationSchema}\r\n      >\r\n        <Form className=\"SignArea\">\r\n          <ErrorMessage\r\n            name=\"username\"\r\n            component=\"span\"\r\n            className=\"SignErrorMessage\"\r\n          />\r\n          <Field\r\n            className=\"SignUsername\"\r\n            name=\"username\"\r\n            placeholder=\"Username...\"\r\n            autoComplete=\"off\"\r\n          ></Field>\r\n          <ErrorMessage\r\n            name=\"password\"\r\n            component=\"span\"\r\n            className=\"SignErrorMessage\"\r\n          />\r\n          <Field\r\n            className=\"SignPassword\"\r\n            name=\"password\"\r\n            placeholder=\"Password...\"\r\n            autoComplete=\"off\"\r\n            type=\"password\"\r\n          ></Field>\r\n          <div className=\"SignButtons\">\r\n            <button type=\"submit\">Sign In</button>\r\n            <button\r\n              onClick={() => {\r\n                handleLeaveClick();\r\n              }}\r\n            >\r\n              Exit\r\n            </button>\r\n          </div>\r\n        </Form>\r\n      </Formik>\r\n\r\n      {/*<div className=\"SignArea\">\r\n        <button\r\n          className=\"SignLeave\"\r\n          onClick={() => {\r\n            handleLeaveClick();\r\n          }}\r\n        >\r\n          X\r\n        </button>\r\n        <input className=\"SignUsername\" placeholder=\"Username...\"></input>\r\n        <input className=\"SignPassword\" placeholder=\"Password...\"></input>\r\n        <div className=\"SignButtons\">\r\n          <button\r\n            onClick={() => {\r\n              props.setOpenSignIn(false);\r\n            }}\r\n          >\r\n            Sign In\r\n          </button>\r\n        </div>\r\n      </div>*/}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SignIn;\r\n"]},"metadata":{},"sourceType":"module"}