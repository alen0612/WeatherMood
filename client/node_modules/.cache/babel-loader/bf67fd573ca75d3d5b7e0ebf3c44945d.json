{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\weathermood\\\\client\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport \"./App.css\";\nimport Mynavbar from \"./Components/Mynavbar\";\nimport Today from \"./Pages/Today\";\nimport Forecast from \"./Pages/Forecast\";\nimport SignIn from \"./Components/SignIn\";\nimport React, { useEffect, useState } from \"react\";\nimport { Alert } from \"bootstrap\";\nimport Axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst APIkey = \"029ab88b8a27d39ef20a062c38c4b411\";\n\nfunction App() {\n  _s();\n\n  const [showToday, setShowToday] = useState(true);\n  const [openSignIn, setOpenSignIn] = useState(false);\n  const [date, setDate] = useState(0);\n  const dayList = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thur\", \"Fri\", \"Sat\"];\n  const [todayWeather, setTodayWeather] = useState({\n    location: \"Taipei\",\n    unit: \"metric\",\n    temp: 0,\n    graph: \"°C\",\n    weather: \"Clear\"\n  });\n  const [forecast, setForecast] = useState({\n    temp: [0, 0, 0, 0],\n    weather: [\"Clear\", \"Clear\", \"Clear\", \"Clear\"],\n    id: [0, 0, 0, 0],\n    location: \"Taipei\"\n  });\n  const [logo, setLogo] = useState({\n    backgroundImage: \"url(/WeatherMood/clearLogo.png)\"\n  });\n  const [background, setBackground] = useState({\n    backgroundImage: \"url(/WeatherMood/clear.jpg)\"\n  });\n  useEffect(() => {\n    getLocation();\n    getDate();\n  }, []);\n\n  const getDate = () => {\n    var day = new Date();\n    setDate(day.getDay());\n  };\n\n  const getLocation = () => {\n    if (navigator.geolocation) navigator.geolocation.getCurrentPosition(getLonandLat);else Alert(\"Geolocation is not supported!\");\n  };\n\n  function getLonandLat(position) {\n    initialWeather(position.coords.longitude, position.coords.latitude); //initialForecast(position.coords.longitude, position.coords.latitude);\n  }\n\n  const initialWeather = (lon, lat) => {\n    // this will render initial page when user get in website for the first time\n    Axios.get(\"https://api.openweathermap.org/data/2.5/weather?lat=\" + lat + \"&lon=\" + lon + \"&units=\" + todayWeather.unit + \"&appid=\" + APIkey).then(response => {\n      //console.log(response.data);\n      //console.log(response.data.weather[0].main);\n      setTodayWeather(prevState => ({ ...prevState,\n        graph: todayWeather.unit === \"metric\" ? \"°C\" : \"°F\",\n        temp: parseInt(response.data.main.temp),\n        location: response.data.name\n      }));\n      checkWeather(response.data.weather[0].id);\n    }).catch(error => {\n      alert(\"City Not Found!\");\n    });\n    Axios.get(\"https://api.openweathermap.org/data/2.5/forecast?lat=\" + lat + \"&lon=\" + lon + \"&units=\" + todayWeather.unit + \"&appid=\" + APIkey).then(response => {\n      //console.log(response.data.city.name);\n      setForecast(prevState => ({ ...prevState,\n        temp: [parseInt(response.data.list[8].main.temp), parseInt(response.data.list[16].main.temp), parseInt(response.data.list[24].main.temp), parseInt(response.data.list[32].main.temp)],\n        location: response.data.city.name\n      }));\n      checkForecastWeather([response.data.list[8].weather[0].id, response.data.list[16].weather[0].id, response.data.list[24].weather[0].id, response.data.list[32].weather[0].id]);\n    });\n  };\n\n  function checkForecastWeather(ID) {\n    //console.log(\"set forecast ID\");\n    setForecast(prevState => ({ ...prevState,\n      id: [ID[0], ID[1], ID[2], ID[3]],\n      weather: [setForecastIcon(ID[0]), setForecastIcon(ID[1]), setForecastIcon(ID[2]), setForecastIcon(ID[3])]\n    }));\n  }\n\n  function setForecastIcon(ID) {\n    //console.log(\"set forecast icon\");\n    if (ID >= 200 && ID < 300) return \"Tunderstorm\";else if (ID >= 300 && ID < 600) return \"Rain\";else if (ID >= 600 && ID < 700) return \"Snow\";else if (ID >= 700 && ID < 800) return \"Mist\";else if (ID === 800) return \"Clear\";else return \"Clouds\";\n  }\n\n  const getWeather = () => {\n    //console.log(\"int today.getWeather: \" + unit);\n    Axios.get(\"https://api.openweathermap.org/data/2.5/weather?q=\" + todayWeather.location + \"&units=\" + todayWeather.unit + \"&appid=\" + APIkey).then(response => {\n      //console.log(response.data);\n      //console.log(response.data.weather[0].main);\n      setTodayWeather(prevState => ({ ...prevState,\n        graph: todayWeather.unit === \"metric\" ? \"°C\" : \"°F\",\n        temp: parseInt(response.data.main.temp)\n      }));\n      checkWeather(response.data.weather[0].id);\n    }).catch(error => {\n      alert(\"City Not Found!\");\n      getLocation();\n    });\n    Axios.get(\"https://api.openweathermap.org/data/2.5/forecast?q=\" + todayWeather.location + \"&units=\" + todayWeather.unit + \"&appid=\" + APIkey).then(response => {\n      //console.log(response.data);\n      setForecast(prevState => ({ ...prevState,\n        temp: [parseInt(response.data.list[8].main.temp), parseInt(response.data.list[16].main.temp), parseInt(response.data.list[24].main.temp), parseInt(response.data.list[32].main.temp)],\n        location: response.data.city.name\n      }));\n      checkForecastWeather([response.data.list[8].weather[0].id, response.data.list[16].weather[0].id, response.data.list[24].weather[0].id, response.data.list[32].weather[0].id]);\n    });\n  };\n\n  const checkWeather = weatherID => {\n    if (weatherID >= 200 && weatherID < 300) {\n      setTodayWeather(prevState => ({ ...prevState,\n        weather: \"Thunderstorm\"\n      }));\n      setBackground({\n        backgroundImage: \"url(/WeatherMood/thunderstorm.jpg)\"\n      });\n      setLogo({\n        backgroundImage: \"url(/WeatherMood/thunderstormLogo.png)\"\n      });\n    } else if (weatherID >= 300 && weatherID < 600) {\n      setTodayWeather(prevState => ({ ...prevState,\n        weather: \"Rain\"\n      }));\n      setBackground({\n        backgroundImage: \"url(/WeatherMood/rain.jpg)\"\n      });\n      setLogo({\n        backgroundImage: \"url(/WeatherMood/rainLogo.png)\"\n      });\n    } else if (weatherID >= 600 && weatherID < 700) {\n      setTodayWeather(prevState => ({ ...prevState,\n        weather: \"Snow\"\n      }));\n      setBackground({\n        backgroundImage: \"url(/WeatherMood/snow.jpg)\"\n      });\n      setLogo({\n        backgroundImage: \"url(/WeatherMood/snowLogo.png)\"\n      });\n    } else if (weatherID >= 700 && weatherID < 800) {\n      setTodayWeather(prevState => ({ ...prevState,\n        weather: \"Mist\"\n      }));\n      setBackground({\n        backgroundImage: \"url(/WeatherMood/mist.jpg)\"\n      });\n      setLogo({\n        backgroundImage: \"url(/WeatherMood/mistLogo.png)\"\n      });\n    } else if (weatherID === 800) {\n      setTodayWeather(prevState => ({ ...prevState,\n        weather: \"Clear\"\n      }));\n      setBackground({\n        backgroundImage: \"url(/WeatherMood/clear.jpg)\"\n      });\n      setLogo({\n        backgroundImage: \"url(/WeatherMood/clearLogo.png)\"\n      });\n    } else {\n      setTodayWeather(prevState => ({ ...prevState,\n        weather: \"Clouds\"\n      }));\n      setBackground({\n        backgroundImage: \"url(/WeatherMood/cloud.jpg)\"\n      });\n      setLogo({\n        backgroundImage: \"url(/WeatherMood/cloudLogo.png)\"\n      });\n    }\n  };\n\n  function setLocation(data) {\n    setTodayWeather(prevState => ({ ...prevState,\n      location: data\n    }));\n  }\n\n  function setUnit(data) {\n    setTodayWeather(prevState => ({ ...prevState,\n      unit: data\n    }));\n  }\n\n  return showToday === true ? /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(Mynavbar, {\n      setShowToday: setShowToday,\n      setOpenSignIn: setOpenSignIn\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 7\n    }, this), openSignIn === true ? /*#__PURE__*/_jsxDEV(SignIn, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Today, {\n      background: background,\n      logo: logo,\n      todayWeather: todayWeather,\n      getWeather: getWeather,\n      setTodayWeather: setTodayWeather,\n      setLocation: setLocation,\n      setUnit: setUnit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 257,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(Mynavbar, {\n      setShowToday: setShowToday,\n      setOpenSignIn: setOpenSignIn\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 7\n    }, this), openSignIn && /*#__PURE__*/_jsxDEV(SignIn, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 22\n    }, this), /*#__PURE__*/_jsxDEV(Forecast, {\n      todayWeather: todayWeather,\n      date: date,\n      dayList: dayList,\n      forecast: forecast,\n      getWeather: getWeather,\n      setTodayWeather: setTodayWeather,\n      setLocation: setLocation,\n      setUnit: setUnit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 275,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"awXKyVvLqUhkc5n6fIXS593SYLs=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/User/Desktop/weathermood/client/src/App.js"],"names":["Mynavbar","Today","Forecast","SignIn","React","useEffect","useState","Alert","Axios","APIkey","App","showToday","setShowToday","openSignIn","setOpenSignIn","date","setDate","dayList","todayWeather","setTodayWeather","location","unit","temp","graph","weather","forecast","setForecast","id","logo","setLogo","backgroundImage","background","setBackground","getLocation","getDate","day","Date","getDay","navigator","geolocation","getCurrentPosition","getLonandLat","position","initialWeather","coords","longitude","latitude","lon","lat","get","then","response","prevState","parseInt","data","main","name","checkWeather","catch","error","alert","list","city","checkForecastWeather","ID","setForecastIcon","getWeather","weatherID","setLocation","setUnit"],"mappings":"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","sourcesContent":["import \"./App.css\";\nimport Mynavbar from \"./Components/Mynavbar\";\nimport Today from \"./Pages/Today\";\nimport Forecast from \"./Pages/Forecast\";\nimport SignIn from \"./Components/SignIn\";\nimport React, { useEffect, useState } from \"react\";\nimport { Alert } from \"bootstrap\";\nimport Axios from \"axios\";\n\nconst APIkey = \"029ab88b8a27d39ef20a062c38c4b411\";\n\nfunction App() {\n  const [showToday, setShowToday] = useState(true);\n  const [openSignIn, setOpenSignIn] = useState(false);\n\n  const [date, setDate] = useState(0);\n  const dayList = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thur\", \"Fri\", \"Sat\"];\n\n  const [todayWeather, setTodayWeather] = useState({\n    location: \"Taipei\",\n    unit: \"metric\",\n    temp: 0,\n    graph: \"°C\",\n    weather: \"Clear\",\n  });\n  const [forecast, setForecast] = useState({\n    temp: [0, 0, 0, 0],\n    weather: [\"Clear\", \"Clear\", \"Clear\", \"Clear\"],\n    id: [0, 0, 0, 0],\n    location: \"Taipei\",\n  });\n  const [logo, setLogo] = useState({\n    backgroundImage: \"url(/WeatherMood/clearLogo.png)\",\n  });\n  const [background, setBackground] = useState({\n    backgroundImage: \"url(/WeatherMood/clear.jpg)\",\n  });\n\n  useEffect(() => {\n    getLocation();\n    getDate();\n  }, []);\n\n  const getDate = () => {\n    var day = new Date();\n    setDate(day.getDay());\n  };\n\n  const getLocation = () => {\n    if (navigator.geolocation)\n      navigator.geolocation.getCurrentPosition(getLonandLat);\n    else Alert(\"Geolocation is not supported!\");\n  };\n\n  function getLonandLat(position) {\n    initialWeather(position.coords.longitude, position.coords.latitude);\n    //initialForecast(position.coords.longitude, position.coords.latitude);\n  }\n\n  const initialWeather = (lon, lat) => {\n    // this will render initial page when user get in website for the first time\n    Axios.get(\n      \"https://api.openweathermap.org/data/2.5/weather?lat=\" +\n        lat +\n        \"&lon=\" +\n        lon +\n        \"&units=\" +\n        todayWeather.unit +\n        \"&appid=\" +\n        APIkey\n    )\n      .then((response) => {\n        //console.log(response.data);\n        //console.log(response.data.weather[0].main);\n        setTodayWeather((prevState) => ({\n          ...prevState,\n          graph: todayWeather.unit === \"metric\" ? \"°C\" : \"°F\",\n          temp: parseInt(response.data.main.temp),\n          location: response.data.name,\n        }));\n        checkWeather(response.data.weather[0].id);\n      })\n      .catch((error) => {\n        alert(\"City Not Found!\");\n      });\n\n    Axios.get(\n      \"https://api.openweathermap.org/data/2.5/forecast?lat=\" +\n        lat +\n        \"&lon=\" +\n        lon +\n        \"&units=\" +\n        todayWeather.unit +\n        \"&appid=\" +\n        APIkey\n    ).then((response) => {\n      //console.log(response.data.city.name);\n      setForecast((prevState) => ({\n        ...prevState,\n        temp: [\n          parseInt(response.data.list[8].main.temp),\n          parseInt(response.data.list[16].main.temp),\n          parseInt(response.data.list[24].main.temp),\n          parseInt(response.data.list[32].main.temp),\n        ],\n        location: response.data.city.name,\n      }));\n      checkForecastWeather([\n        response.data.list[8].weather[0].id,\n        response.data.list[16].weather[0].id,\n        response.data.list[24].weather[0].id,\n        response.data.list[32].weather[0].id,\n      ]);\n    });\n  };\n\n  function checkForecastWeather(ID) {\n    //console.log(\"set forecast ID\");\n    setForecast((prevState) => ({\n      ...prevState,\n      id: [ID[0], ID[1], ID[2], ID[3]],\n      weather: [\n        setForecastIcon(ID[0]),\n        setForecastIcon(ID[1]),\n        setForecastIcon(ID[2]),\n        setForecastIcon(ID[3]),\n      ],\n    }));\n  }\n\n  function setForecastIcon(ID) {\n    //console.log(\"set forecast icon\");\n    if (ID >= 200 && ID < 300) return \"Tunderstorm\";\n    else if (ID >= 300 && ID < 600) return \"Rain\";\n    else if (ID >= 600 && ID < 700) return \"Snow\";\n    else if (ID >= 700 && ID < 800) return \"Mist\";\n    else if (ID === 800) return \"Clear\";\n    else return \"Clouds\";\n  }\n\n  const getWeather = () => {\n    //console.log(\"int today.getWeather: \" + unit);\n    Axios.get(\n      \"https://api.openweathermap.org/data/2.5/weather?q=\" +\n        todayWeather.location +\n        \"&units=\" +\n        todayWeather.unit +\n        \"&appid=\" +\n        APIkey\n    )\n      .then((response) => {\n        //console.log(response.data);\n        //console.log(response.data.weather[0].main);\n\n        setTodayWeather((prevState) => ({\n          ...prevState,\n          graph: todayWeather.unit === \"metric\" ? \"°C\" : \"°F\",\n          temp: parseInt(response.data.main.temp),\n        }));\n\n        checkWeather(response.data.weather[0].id);\n      })\n      .catch((error) => {\n        alert(\"City Not Found!\");\n        getLocation();\n      });\n\n    Axios.get(\n      \"https://api.openweathermap.org/data/2.5/forecast?q=\" +\n        todayWeather.location +\n        \"&units=\" +\n        todayWeather.unit +\n        \"&appid=\" +\n        APIkey\n    ).then((response) => {\n      //console.log(response.data);\n      setForecast((prevState) => ({\n        ...prevState,\n        temp: [\n          parseInt(response.data.list[8].main.temp),\n          parseInt(response.data.list[16].main.temp),\n          parseInt(response.data.list[24].main.temp),\n          parseInt(response.data.list[32].main.temp),\n        ],\n        location: response.data.city.name,\n      }));\n      checkForecastWeather([\n        response.data.list[8].weather[0].id,\n        response.data.list[16].weather[0].id,\n        response.data.list[24].weather[0].id,\n        response.data.list[32].weather[0].id,\n      ]);\n    });\n  };\n\n  const checkWeather = (weatherID) => {\n    if (weatherID >= 200 && weatherID < 300) {\n      setTodayWeather((prevState) => ({\n        ...prevState,\n        weather: \"Thunderstorm\",\n      }));\n      setBackground({ backgroundImage: \"url(/WeatherMood/thunderstorm.jpg)\" });\n      setLogo({ backgroundImage: \"url(/WeatherMood/thunderstormLogo.png)\" });\n    } else if (weatherID >= 300 && weatherID < 600) {\n      setTodayWeather((prevState) => ({\n        ...prevState,\n        weather: \"Rain\",\n      }));\n      setBackground({ backgroundImage: \"url(/WeatherMood/rain.jpg)\" });\n      setLogo({ backgroundImage: \"url(/WeatherMood/rainLogo.png)\" });\n    } else if (weatherID >= 600 && weatherID < 700) {\n      setTodayWeather((prevState) => ({\n        ...prevState,\n        weather: \"Snow\",\n      }));\n      setBackground({ backgroundImage: \"url(/WeatherMood/snow.jpg)\" });\n      setLogo({ backgroundImage: \"url(/WeatherMood/snowLogo.png)\" });\n    } else if (weatherID >= 700 && weatherID < 800) {\n      setTodayWeather((prevState) => ({\n        ...prevState,\n        weather: \"Mist\",\n      }));\n      setBackground({ backgroundImage: \"url(/WeatherMood/mist.jpg)\" });\n      setLogo({ backgroundImage: \"url(/WeatherMood/mistLogo.png)\" });\n    } else if (weatherID === 800) {\n      setTodayWeather((prevState) => ({\n        ...prevState,\n        weather: \"Clear\",\n      }));\n      setBackground({ backgroundImage: \"url(/WeatherMood/clear.jpg)\" });\n      setLogo({ backgroundImage: \"url(/WeatherMood/clearLogo.png)\" });\n    } else {\n      setTodayWeather((prevState) => ({\n        ...prevState,\n        weather: \"Clouds\",\n      }));\n      setBackground({ backgroundImage: \"url(/WeatherMood/cloud.jpg)\" });\n      setLogo({ backgroundImage: \"url(/WeatherMood/cloudLogo.png)\" });\n    }\n  };\n\n  function setLocation(data) {\n    setTodayWeather((prevState) => ({\n      ...prevState,\n      location: data,\n    }));\n  }\n\n  function setUnit(data) {\n    setTodayWeather((prevState) => ({\n      ...prevState,\n      unit: data,\n    }));\n  }\n\n  return showToday === true ? (\n    <div className=\"App\">\n      <Mynavbar setShowToday={setShowToday} setOpenSignIn={setOpenSignIn} />\n      {/*{openSignIn && <SignIn />}*/}\n      {openSignIn === true ? (\n        <SignIn />\n      ) : (\n        <Today\n          background={background}\n          logo={logo}\n          todayWeather={todayWeather}\n          getWeather={getWeather}\n          setTodayWeather={setTodayWeather}\n          setLocation={setLocation}\n          setUnit={setUnit}\n        />\n      )}\n    </div>\n  ) : (\n    <div className=\"App\">\n      <Mynavbar setShowToday={setShowToday} setOpenSignIn={setOpenSignIn} />\n      {openSignIn && <SignIn />}\n\n      <Forecast\n        todayWeather={todayWeather}\n        date={date}\n        dayList={dayList}\n        forecast={forecast}\n        getWeather={getWeather}\n        setTodayWeather={setTodayWeather}\n        setLocation={setLocation}\n        setUnit={setUnit}\n      />\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}