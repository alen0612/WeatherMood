{"ast":null,"code":"import React from\"react\";import{useContext}from\"react\";import{Formik,Form,Field,ErrorMessage}from\"formik\";import*as Yup from\"yup\";import axios from\"axios\";import{AuthContext}from\"../helpers/AuthContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SignIn(props){var _useContext=useContext(AuthContext),setAuthState=_useContext.setAuthState;var handleLeaveClick=function handleLeaveClick(){props.setOpenSignIn(false);props.setOpenSignUp(false);};var initialValue={username:\"\",password:\"\"};var validationSchema=Yup.object().shape({username:Yup.string().min(3).max(15).required(),password:Yup.string().min(3).max(15).required()});var onSubmit=function onSubmit(data){axios.post(\"http://localhost:3001/users/signin\",data).then(function(response){if(response.data.error){alert(response.data.error);}else{localStorage.setItem(\"accessToken\",response.data[1]);props.setAuthState(true);props.setCurrentUser(response.data[0]);handleLeaveClick();}}).catch(function(err){alert(\"Wrong Username or Password!\");});};return/*#__PURE__*/_jsx(\"div\",{className:\"Sign\",children:/*#__PURE__*/_jsx(Formik,{initialValues:initialValue,onSubmit:onSubmit,validationSchema:validationSchema,children:/*#__PURE__*/_jsxs(Form,{className:\"SignArea\",children:[/*#__PURE__*/_jsx(ErrorMessage,{name:\"username\",component:\"span\",className:\"SignErrorMessage\"}),/*#__PURE__*/_jsx(Field,{className:\"SignUsername\",name:\"username\",placeholder:\"Username...\",autoComplete:\"off\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"password\",component:\"span\",className:\"SignErrorMessage\"}),/*#__PURE__*/_jsx(Field,{className:\"SignPassword\",name:\"password\",placeholder:\"Password...\",autoComplete:\"off\",type:\"password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"SignButtons\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Sign In\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){handleLeaveClick();},children:\"Exit\"})]})]})})});}export default SignIn;","map":{"version":3,"sources":["C:/Users/User/Desktop/weathermood/client/src/Components/SignIn.js"],"names":["React","useContext","Formik","Form","Field","ErrorMessage","Yup","axios","AuthContext","SignIn","props","setAuthState","handleLeaveClick","setOpenSignIn","setOpenSignUp","initialValue","username","password","validationSchema","object","shape","string","min","max","required","onSubmit","data","post","then","response","error","alert","localStorage","setItem","setCurrentUser","catch","err"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { useContext } from \"react\";\r\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport axios from \"axios\";\r\nimport { AuthContext } from \"../helpers/AuthContext\";\r\n\r\nfunction SignIn(props) {\r\n  const { setAuthState } = useContext(AuthContext);\r\n\r\n  const handleLeaveClick = () => {\r\n    props.setOpenSignIn(false);\r\n    props.setOpenSignUp(false);\r\n  };\r\n\r\n  const initialValue = {\r\n    username: \"\",\r\n    password: \"\",\r\n  };\r\n\r\n  const validationSchema = Yup.object().shape({\r\n    username: Yup.string().min(3).max(15).required(),\r\n    password: Yup.string().min(3).max(15).required(),\r\n  });\r\n\r\n  const onSubmit = (data) => {\r\n    axios\r\n      .post(\"http://localhost:3001/users/signin\", data)\r\n      .then((response) => {\r\n        if (response.data.error) {\r\n          alert(response.data.error);\r\n        } else {\r\n          localStorage.setItem(\"accessToken\", response.data[1]);\r\n          props.setAuthState(true);\r\n          props.setCurrentUser(response.data[0]);\r\n          handleLeaveClick();\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        alert(\"Wrong Username or Password!\");\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"Sign\">\r\n      <Formik\r\n        initialValues={initialValue}\r\n        onSubmit={onSubmit}\r\n        validationSchema={validationSchema}\r\n      >\r\n        <Form className=\"SignArea\">\r\n          <ErrorMessage\r\n            name=\"username\"\r\n            component=\"span\"\r\n            className=\"SignErrorMessage\"\r\n          />\r\n          <Field\r\n            className=\"SignUsername\"\r\n            name=\"username\"\r\n            placeholder=\"Username...\"\r\n            autoComplete=\"off\"\r\n          ></Field>\r\n          <ErrorMessage\r\n            name=\"password\"\r\n            component=\"span\"\r\n            className=\"SignErrorMessage\"\r\n          />\r\n          <Field\r\n            className=\"SignPassword\"\r\n            name=\"password\"\r\n            placeholder=\"Password...\"\r\n            autoComplete=\"off\"\r\n            type=\"password\"\r\n          ></Field>\r\n          <div className=\"SignButtons\">\r\n            <button type=\"submit\">Sign In</button>\r\n            <button\r\n              onClick={() => {\r\n                handleLeaveClick();\r\n              }}\r\n            >\r\n              Exit\r\n            </button>\r\n          </div>\r\n        </Form>\r\n      </Formik>\r\n\r\n      {/*<div className=\"SignArea\">\r\n        <button\r\n          className=\"SignLeave\"\r\n          onClick={() => {\r\n            handleLeaveClick();\r\n          }}\r\n        >\r\n          X\r\n        </button>\r\n        <input className=\"SignUsername\" placeholder=\"Username...\"></input>\r\n        <input className=\"SignPassword\" placeholder=\"Password...\"></input>\r\n        <div className=\"SignButtons\">\r\n          <button\r\n            onClick={() => {\r\n              props.setOpenSignIn(false);\r\n            }}\r\n          >\r\n            Sign In\r\n          </button>\r\n        </div>\r\n      </div>*/}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SignIn;\r\n"]},"metadata":{},"sourceType":"module"}