{"ast":null,"code":"import _slicedToArray from\"C:/Users/User/Desktop/weathermood/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"../App.css\";import React,{useEffect,useState}from\"react\";import{Container,Nav,Navbar}from\"react-bootstrap\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Mynavbar(props){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),showToday=_useState2[0],setShowToday=_useState2[1];useEffect(function(){//console.log(\"use effect: \" + showToday);\nif(showToday)props.setShowToday(true);else props.setShowToday(false);axios.get(\"http://localhost:3001/users/auth\",{headers:{accessToken:localStorage.getItem(\"accessToken\")}}).then(function(response){//console.log(response.data.username);\nprops.setCurrentUser(response.data.username);});},[]);var handleTodayClick=function handleTodayClick(){setShowToday(true);props.setShowToday(true);};var handleForecastClick=function handleForecastClick(){setShowToday(false);props.setShowToday(false);};var handleSignInClick=function handleSignInClick(){props.setOpenSignIn(true);props.setOpenSignUp(false);};var handleSignUpClick=function handleSignUpClick(){props.setOpenSignIn(false);props.setOpenSignUp(true);};var logout=function logout(){localStorage.removeItem(\"accessToken\");props.setAuthState(false);props.setCurrentUser(\"\");};var todayFontWeight=showToday&&!props.openSignIn&&!props.openSignUp?{fontWeight:\"bold\"}:{fontWeight:\"normal\"};var forecastFontWeight=!showToday&&!props.openSignIn&&!props.openSignUp?{fontWeight:\"bold\"}:{fontWeight:\"normal\"};var signInFontWeight=props.openSignIn?{fontWeight:\"bold\"}:{fontWeight:\"normal\"};var signUpFontWeight=props.openSignUp?{fontWeight:\"bold\"}:{fontWeight:\"normal\"};return/*#__PURE__*/_jsx(Navbar,{bg:\"light\",sticky:\"top\",className:\"weatherNavbar sticky-top\",children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Navbar.Brand,{children:\"WeatherMood\"}),/*#__PURE__*/_jsx(Nav,{className:\"me-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"navbarLinks\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"navbarLeft\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"navItem\",style:todayFontWeight,onClick:function onClick(){if(!props.openSignIn&&!props.openSignUp)handleTodayClick();},children:\"Today\"}),/*#__PURE__*/_jsx(\"div\",{className:\"navItem\",style:forecastFontWeight,onClick:function onClick(){if(!props.openSignIn&&!props.openSignUp)handleForecastClick();},children:\"Forcast\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"navbarRight\",children:!props.authState?/*#__PURE__*/_jsxs(\"div\",{className:\"SignInAndSignUp\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"navItem\",style:signInFontWeight,onClick:function onClick(){handleSignInClick();},children:\"Sign In\"}),/*#__PURE__*/_jsx(\"div\",{className:\"navItem\",style:signUpFontWeight,onClick:function onClick(){handleSignUpClick();},children:\"Sign Up\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"UsernameAndLogout\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"Signedusername\",children:[\"Hi, \",props.currentUser]}),/*#__PURE__*/_jsx(\"div\",{className:\"Logout\",onClick:function onClick(){logout();},children:\"Log out\"})]})})]})})]})});}export default Mynavbar;","map":{"version":3,"sources":["C:/Users/User/Desktop/weathermood/client/src/Components/Mynavbar.js"],"names":["React","useEffect","useState","Container","Nav","Navbar","axios","Mynavbar","props","showToday","setShowToday","get","headers","accessToken","localStorage","getItem","then","response","setCurrentUser","data","username","handleTodayClick","handleForecastClick","handleSignInClick","setOpenSignIn","setOpenSignUp","handleSignUpClick","logout","removeItem","setAuthState","todayFontWeight","openSignIn","openSignUp","fontWeight","forecastFontWeight","signInFontWeight","signUpFontWeight","authState","currentUser"],"mappings":"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","sourcesContent":["import \"../App.css\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Container, Nav, Navbar } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\n\r\nfunction Mynavbar(props) {\r\n  const [showToday, setShowToday] = useState(true);\r\n\r\n  useEffect(() => {\r\n    //console.log(\"use effect: \" + showToday);\r\n    if (showToday) props.setShowToday(true);\r\n    else props.setShowToday(false);\r\n\r\n    axios\r\n      .get(\"http://localhost:3001/users/auth\", {\r\n        headers: { accessToken: localStorage.getItem(\"accessToken\") },\r\n      })\r\n      .then((response) => {\r\n        //console.log(response.data.username);\r\n        props.setCurrentUser(response.data.username);\r\n      });\r\n  }, []);\r\n\r\n  const handleTodayClick = () => {\r\n    setShowToday(true);\r\n    props.setShowToday(true);\r\n  };\r\n\r\n  const handleForecastClick = () => {\r\n    setShowToday(false);\r\n    props.setShowToday(false);\r\n  };\r\n\r\n  const handleSignInClick = () => {\r\n    props.setOpenSignIn(true);\r\n    props.setOpenSignUp(false);\r\n  };\r\n\r\n  const handleSignUpClick = () => {\r\n    props.setOpenSignIn(false);\r\n    props.setOpenSignUp(true);\r\n  };\r\n\r\n  const logout = () => {\r\n    localStorage.removeItem(\"accessToken\");\r\n    props.setAuthState(false);\r\n    props.setCurrentUser(\"\");\r\n  };\r\n\r\n  let todayFontWeight =\r\n    showToday && !props.openSignIn && !props.openSignUp\r\n      ? { fontWeight: \"bold\" }\r\n      : { fontWeight: \"normal\" };\r\n\r\n  let forecastFontWeight =\r\n    !showToday && !props.openSignIn && !props.openSignUp\r\n      ? { fontWeight: \"bold\" }\r\n      : { fontWeight: \"normal\" };\r\n\r\n  let signInFontWeight = props.openSignIn\r\n    ? { fontWeight: \"bold\" }\r\n    : { fontWeight: \"normal\" };\r\n\r\n  let signUpFontWeight = props.openSignUp\r\n    ? { fontWeight: \"bold\" }\r\n    : { fontWeight: \"normal\" };\r\n\r\n  return (\r\n    <Navbar bg=\"light\" sticky=\"top\" className=\"weatherNavbar sticky-top\">\r\n      <Container>\r\n        <Navbar.Brand>WeatherMood</Navbar.Brand>\r\n        <Nav className=\"me-auto\">\r\n          <div className=\"navbarLinks\">\r\n            <div className=\"navbarLeft\">\r\n              <div\r\n                className=\"navItem\"\r\n                style={todayFontWeight}\r\n                onClick={() => {\r\n                  if (!props.openSignIn && !props.openSignUp)\r\n                    handleTodayClick();\r\n                }}\r\n              >\r\n                Today\r\n              </div>\r\n              <div\r\n                className=\"navItem\"\r\n                style={forecastFontWeight}\r\n                onClick={() => {\r\n                  if (!props.openSignIn && !props.openSignUp)\r\n                    handleForecastClick();\r\n                }}\r\n              >\r\n                Forcast\r\n              </div>\r\n            </div>\r\n            <div className=\"navbarRight\">\r\n              {!props.authState ? (\r\n                <div className=\"SignInAndSignUp\">\r\n                  <div\r\n                    className=\"navItem\"\r\n                    style={signInFontWeight}\r\n                    onClick={() => {\r\n                      handleSignInClick();\r\n                    }}\r\n                  >\r\n                    Sign In\r\n                  </div>\r\n                  <div\r\n                    className=\"navItem\"\r\n                    style={signUpFontWeight}\r\n                    onClick={() => {\r\n                      handleSignUpClick();\r\n                    }}\r\n                  >\r\n                    Sign Up\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <div className=\"UsernameAndLogout\">\r\n                  <div className=\"Signedusername\">Hi, {props.currentUser}</div>\r\n                  <div\r\n                    className=\"Logout\"\r\n                    onClick={() => {\r\n                      logout();\r\n                    }}\r\n                  >\r\n                    Log out\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </Nav>\r\n      </Container>\r\n    </Navbar>\r\n  );\r\n}\r\n\r\nexport default Mynavbar;\r\n"]},"metadata":{},"sourceType":"module"}